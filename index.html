<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8">
<title>CryptoVerse V26 PRO - Full Hub</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
/* –°—Ç–∏–ª–∏ –∏–∑ –≤–∞—à–µ–≥–æ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ */
body{margin:0;font-family:Arial,sans-serif;background:#0b0e14;color:#e7eef5;display:flex;height:100vh}
aside{width:340px;background:#05060a;padding:15px;overflow:auto;border-right:1px solid #222}
main{flex:1;padding:20px;overflow:auto}
button{cursor:pointer;margin:2px;padding:6px 10px;background:#1a1f2b;color:#fff;border:1px solid #333;border-radius:4px}
button:hover{background:#00e5ff;color:#000}
input,select{width:100%;padding:8px;margin:4px 0;background:#000;color:#fff;border:1px solid #333}
.nav div{padding:8px;margin:4px 0;cursor:pointer}
.nav .active{background:#00e5ff;color:#000;font-weight:bold}
table{width:100%;border-collapse:collapse;font-size:12px}
th,td{padding:8px;border-bottom:1px solid #222;text-align:left}
.ready{color:#48bb78;font-weight:bold}
.wait{color:#f6ad55}
.star{cursor:pointer}
.modal{position:fixed;inset:0;background:rgba(0,0,0,.8);display:none;align-items:center;justify-content:center;z-index:20}
.box{background:#05060a;padding:20px;width:360px;border:1px solid #333}
small{color:#8fa3b8;display:block}
</style>
</head>
<body>

<aside>
<h3>NANSEN HUB</h3>
<div class="nav">
  <div class="active" onclick="setFilter('all',this)">–í—Å–µ</div>
  <div onclick="setFilter('faucet',this)">–ö—Ä–∞–Ω—ã</div>
  <div onclick="setFilter('program',this)">–ü—Ä–æ–≥—Ä–∞–º–º—ã</div>
  <div onclick="setFilter('airdrop',this)">–ê–∏—Ä–¥—Ä–æ–ø—ã</div>
</div>
<hr>
<input id="search" placeholder="üîç –ü–æ–∏—Å–∫" oninput="render()">
<hr>
<button onclick="updateBase()">üîÑ –û–±–Ω–æ–≤–∏—Ç—å –±–∞–∑—É</button>
<p style="font-size:11px;margin:10px 0 2px">–ó–∞–≥—Ä—É–∑–∏—Ç—å –∫—Ä–∞–Ω—ã (JSON):</p>
<input type="file" accept=".json" onchange="loadFaucets(this.files[0])">
<button onclick="openAdd()">‚ûï –î–æ–±–∞–≤–∏—Ç—å –≤—Ä—É—á–Ω—É—é</button>
<hr>
<button onclick="exportDB()">üíæ –≠–∫—Å–ø–æ—Ä—Ç –±–∞–∑—ã</button>
<p style="font-size:11px;margin:10px 0 2px">–ò–º–ø–æ—Ä—Ç –±–∞–∑—ã (JSON):</p>
<input type="file" accept=".json" onchange="importDB(this.files[0])">
<button onclick="clearDB()" style="color:#f56565">üóë –û—á–∏—Å—Ç–∏—Ç—å –≤—Å—ë</button>
<div id="sidebar-ad" style="margin-top:20px; text-align:center;">
    <small>–†–µ–∫–ª–∞–º–∞</small>
    <div style="width:100%; height:250px; background:#1a1f2b; border:1px dashed #333; display:flex; align-items:center; justify-content:center;">
        </div>
</div>
</aside>

<main>
    <div style="display:flex; justify-content:space-between; align-items:center;">
        <h1>Dashboard</h1>
        <div id="top-ad" style="width:468px; height:60px; background:#1a1f2b; border:1px dashed #333; display:flex; align-items:center; justify-content:center;">
             <small>–ú–µ—Å—Ç–æ –¥–ª—è –±–∞–Ω–Ω–µ—Ä–∞ 468x60</small>
        </div>
    </div>
<table>
<thead>
<tr>
<th>‚òÖ</th>
<th>–°—Ç–∞—Ç—É—Å</th>
<th>–ü—Ä–æ–µ–∫—Ç</th>
<th>–¢–∞–π–º–µ—Ä</th>
<th>$ / h</th>
<th>–¢–∏–ø</th>
<th>Status</th>
<th>–î–µ–π—Å—Ç–≤–∏—è</th>
</tr>
</thead>
<tbody id="list"></tbody>
</table>
</main>

<script>
const STORAGE='cryptoverse_v26';
let DB=[],filter='all',editIndex=null;

const BASE_LIST=[
{sourceId:'grass',name:'Grass',url:'https://app.getgrass.io/',type:'program',status:'active'},
{sourceId:'nodepay',name:'Nodepay',url:'https://app.nodepay.ai/',type:'program',status:'active'}
];

function load(){
    DB=JSON.parse(localStorage.getItem(STORAGE))||[];
    updateBase(true);
}

function updateBase(silent=false){
    BASE_LIST.forEach(b=>{
        if(!DB.find(d=>d.sourceId===b.sourceId)){
            DB.push({sourceId:b.sourceId,name:b.name,url:b.url,type:b.type,time:1440,last:0,reward:0,status:b.status,fav:false});
        }
    });
    save(); render();
}

function importDB(file){
    const r=new FileReader();
    r.onload=e=>{
        try {
            DB=JSON.parse(e.target.result);
            save(); render();
            alert('–ë–∞–∑–∞ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–∞!');
        } catch(err){alert('–û—à–∏–±–∫–∞ —Ñ–∞–π–ª–∞');}
    };
    r.readAsText(file);
}

function loadFaucets(file){
    const r=new FileReader();
    r.onload=e=>{
        try {
            const data=JSON.parse(e.target.result);
            (data.faucets||[]).forEach(f=>{
                DB.push({name:f.name||f.id,url:f.url,type:'faucet',time:Math.round((f.timer||3600)/60),last:0,reward:f.expectedReward||0,status:'active',fav:false});
            });
            save(); render();
        } catch(err){alert('–û—à–∏–±–∫–∞ –≤ —Ñ–∞–π–ª–µ –∫—Ä–∞–Ω–æ–≤');}
    };
    r.readAsText(file);
}

function render(){
    const list=document.getElementById('list');
    list.innerHTML='';
    const now=Date.now();
    const q=document.getElementById('search').value.toLowerCase();

    DB.filter(i=>(filter==='all'||i.type===filter) && (i.name.toLowerCase().includes(q)||i.url.toLowerCase().includes(q)))
    .sort((a,b)=>b.fav-a.fav)
    .forEach((i,idx)=>{
        const left=Math.max(0,(i.last||0)+i.time*60000-now);
        const ready=left===0;
        const perHour=i.time?((i.reward||0)*(60/i.time)).toFixed(4):'0';
        
        list.innerHTML+=`<tr>
            <td class="star" onclick="toggleFav(${idx})">${i.fav?'‚≠ê':'‚òÜ'}</td>
            <td class="${ready?'ready':'wait'}">${ready?'READY':'WAIT'}</td>
            <td>${i.name}<br><small>${i.url}</small></td>
            <td>${ready?'NOW':Math.ceil(left/60000)+'m'}</td>
            <td>${perHour}</td>
            <td>${i.type}</td>
            <td>${i.status}</td>
            <td>
                <button onclick="openLink(${idx})">OPEN</button>
                <button onclick="editItem(${idx})">‚úè</button>
                <button onclick="deleteItem(${idx})">üóë</button>
            </td>
        </tr>`;
    });
}

function openLink(i){
    window.open(DB[i].url,'_blank');
    DB[i].last=Date.now();
    save(); render();
}

function toggleFav(i){DB[i].fav=!DB[i].fav;save();render();}
function save(){localStorage.setItem(STORAGE,JSON.stringify(DB))}
function setFilter(f,el){
    filter=f;
    document.querySelectorAll('.nav div').forEach(d=>d.classList.remove('active'));
    el.classList.add('active');
    render();
}
function exportDB(){
    const blob=new Blob([JSON.stringify(DB,null,2)],{type:'application/json'});
    const a=document.createElement('a');
    a.href=URL.createObjectURL(blob);
    a.download='cryptoverse_backup.json';
    a.click();
}
function clearDB(){if(confirm('–û—á–∏—Å—Ç–∏—Ç—å –≤—Å—ë?')){DB=[];save();load();render()}}

load();
</script>
</body>
</html>
