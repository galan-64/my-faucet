<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8">
<title>CryptoVerse V26 PRO - Dashboard</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
/* –°—Ç–∏–ª–∏ –∏–∑ –≤–∞—à–µ–≥–æ —Ñ–∞–π–ª–∞ */
body{margin:0;font-family:Arial,sans-serif;background:#0b0e14;color:#e7eef5;display:flex;height:100vh}
aside{width:280px;background:#05060a;padding:15px;overflow:auto;border-right:1px solid #1a1f2b}
main{flex:1;padding:20px;overflow:auto}
button{cursor:pointer;margin:2px;padding:8px 12px;background:#1a1f2b;color:#fff;border:1px solid #333;border-radius:4px}
button:hover{background:#00e5ff;color:#000}
input,select{width:100%;padding:8px;margin:4px 0;background:#000;color:#fff;border:1px solid #333;border-radius:4px}
.nav div{padding:10px;margin:4px 0;cursor:pointer;border-radius:4px;transition:0.2s}
.nav div:hover{background:rgba(0,229,255,0.1)}
.nav .active{background:#00e5ff;color:#000;font-weight:bold}
table{width:100%;border-collapse:collapse;font-size:13px;margin-top:20px}
th,td{padding:12px;border-bottom:1px solid #1a1f2b;text-align:left}
th{background:#05060a;color:#8fa3b8;text-transform:uppercase;font-size:11px}
.ready{color:#48bb78;font-weight:bold}
.wait{color:#f6ad55}
.dead{color:#f56565}
.status-active{color:#48bb78}
.status-ended{color:#f6ad55}
.status-scam{color:#f56565}
.star{cursor:pointer;font-size:18px}
.modal{position:fixed;inset:0;background:rgba(0,0,0,.85);display:none;align-items:center;justify-content:center;z-index:20}
.box{background:#0a0d14;padding:25px;width:380px;border:1px solid #00e5ff;border-radius:8px}
small{color:#5c6d7e;display:block;margin-top:2px}
</style>
</head>
<body>

<aside>
<h2 style="color:#00e5ff;margin-bottom:20px">NANSEN HUB</h2>
<div class="nav">
  <div class="active" onclick="setFilter('all',this)">–í—Å–µ –ø—Ä–æ–µ–∫—Ç—ã</div>
  <div onclick="setFilter('faucet',this)">–ö—Ä–∞–Ω—ã</div>
  <div onclick="setFilter('program',this)">–ü—Ä–æ–≥—Ä–∞–º–º—ã</div>
  <div onclick="setFilter('airdrop',this)">–ê–∏—Ä–¥—Ä–æ–ø—ã</div>
</div>
<hr style="border:0;border-top:1px solid #1a1f2b;margin:20px 0">
<input id="search" placeholder="üîç –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é..." oninput="render()">
<button onclick="updateBase()" style="width:100%;margin-top:10px">üîÑ –û–±–Ω–æ–≤–∏—Ç—å –±–∞–∑—É</button>
<button onclick="openAdd()" style="width:100%">‚ûï –î–æ–±–∞–≤–∏—Ç—å –≤—Ä—É—á–Ω—É—é</button>
<hr style="border:0;border-top:1px solid #1a1f2b;margin:20px 0">
<button onclick="exportDB()" style="font-size:11px">üíæ –≠–∫—Å–ø–æ—Ä—Ç</button>
<button onclick="clearDB()" style="font-size:11px;color:#f56565">üóë –û—á–∏—Å—Ç–∏—Ç—å</button>
</aside>

<main>
<div style="display:flex;justify-content:space-between;align-items:center">
    <h1>Dashboard</h1>
    <div id="stats" style="color:#8fa3b8"></div>
</div>

<table>
<thead>
<tr>
<th>‚òÖ</th>
<th>–°—Ç–∞—Ç—É—Å</th>
<th>–ü—Ä–æ–µ–∫—Ç</th>
<th>–¢–∞–π–º–µ—Ä</th>
<th>–¢–∏–ø</th>
<th>–°–æ—Å—Ç–æ—è–Ω–∏–µ</th>
<th>–î–µ–π—Å—Ç–≤–∏—è</th>
</tr>
</thead>
<tbody id="list"></tbody>
</table>
</main>

<div id="editModal" class="modal">
<div class="box">
<h3 id="modalTitle">–≠–ª–µ–º–µ–Ω—Ç</h3>
<input id="eName" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ">
<input id="eUrl" placeholder="URL —Å—Å—ã–ª–∫–∏">
<input id="eTime" type="number" placeholder="–¢–∞–π–º–µ—Ä (–º–∏–Ω)">
<select id="eType">
<option value="faucet">–ö—Ä–∞–Ω</option>
<option value="program">–ü—Ä–æ–≥—Ä–∞–º–º–∞</option>
<option value="airdrop">–ê–∏—Ä–¥—Ä–æ–ø</option>
</select>
<select id="eStatus">
<option value="active">Active</option>
<option value="ended">Ended</option>
<option value="scam">Scam / Dead</option>
</select>
<button onclick="saveItem()" style="background:#00e5ff;color:#000;width:100%;margin-top:10px">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
<button onclick="closeEdit()" style="width:100%;background:transparent;border:none;margin-top:5px">–û—Ç–º–µ–Ω–∞</button>
</div>
</div>

<script>
const STORAGE='cryptoverse_v26';
let DB=[],filter='all',editIndex=null;

const BASE_LIST=[
{sourceId:'grass',name:'Grass',url:'https://app.getgrass.io/',type:'program',status:'active'},
{sourceId:'nodepay',name:'Nodepay',url:'https://app.nodepay.ai/',type:'program',status:'active'},
{sourceId:'monad',name:'Monad',url:'https://monad.xyz/',type:'airdrop',status:'active'},
{sourceId:'faucet_example',name:'–ü—Ä–∏–º–µ—Ä –ö—Ä–∞–Ω–∞',url:'#',type:'faucet',status:'active'}
];

function load(){
    DB=JSON.parse(localStorage.getItem(STORAGE))||[];
    if(DB.length === 0) updateBase(true);
    render();
}

function updateBase(silent=false){
    BASE_LIST.forEach(b=>{
        if(!DB.find(d=>d.sourceId===b.sourceId)){
            DB.push({
                sourceId:b.sourceId,name:b.name,url:b.url,type:b.type,
                time:1440,last:0,status:b.status,fav:false
            });
        }
    });
    save();
    if(!silent) alert('–ë–∞–∑–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∞');
    render();
}

function render(){
    const list = document.getElementById('list');
    list.innerHTML='';
    const now=Date.now();
    const q=document.getElementById('search').value.toLowerCase();

    const filtered = DB.filter(i=>
        (filter==='all'||i.type===filter) &&
        (i.name.toLowerCase().includes(q)||i.url.toLowerCase().includes(q))
    ).sort((a,b)=>b.fav-a.fav);

    filtered.forEach((i,idx)=>{
        const left=Math.max(0,(i.last||0)+i.time*60000-now);
        const ready=left===0;
        
        list.innerHTML+=`
        <tr>
        <td class="star" onclick="toggleFav(${idx})">${i.fav?'‚≠ê':'‚òÜ'}</td>
        <td class="${ready?'ready':'wait'}">${ready?'READY':'WAIT'}</td>
        <td><strong>${i.name}</strong><small>${i.url}</small></td>
        <td>${ready?'NOW':Math.ceil(left/60000)+'m'}</td>
        <td>${i.type}</td>
        <td class="status-${i.status}">${i.status}</td>
        <td>
        <button onclick="openLink(${idx})">–û–¢–ö–†–´–¢–¨</button>
        <button onclick="editItem(${idx})">‚úè</button>
        <button onclick="deleteItem(${idx})">üóë</button>
        </td>
        </tr>`;
    });
}

function openLink(i){
    window.open(DB[i].url,'_blank');
    DB[i].last=Date.now();
    save();render();
}

function toggleFav(i){DB[i].fav=!DB[i].fav;save();render();}
function save(){localStorage.setItem(STORAGE,JSON.stringify(DB))}
function setFilter(f,el){
    filter=f;
    document.querySelectorAll('.nav div').forEach(d=>d.classList.remove('active'));
    el.classList.add('active');
    render();
}

function openAdd(){
    editIndex=null;
    document.getElementById('editModal').style.display='flex';
}

function closeEdit(){document.getElementById('editModal').style.display='none';}

function saveItem(){
    const item={
        name:document.getElementById('eName').value,
        url:document.getElementById('eUrl').value,
        time:+document.getElementById('eTime').value||60,
        type:document.getElementById('eType').value,
        status:document.getElementById('eStatus').value,
        last:0,fav:false
    };
    if(editIndex===null) DB.push(item);
    else DB[editIndex]={...DB[editIndex],...item};
    save();closeEdit();render();
}

function deleteItem(i){if(confirm('–£–¥–∞–ª–∏—Ç—å?')){DB.splice(i,1);save();render();}}
function exportDB(){
    const dataStr = "data:text/json;charset=utf-8," + encodeURIComponent(JSON.stringify(DB));
    const a = document.createElement('a');
    a.setAttribute("href", dataStr);
    a.setAttribute("download", "crypto_backup.json");
    a.click();
}
function clearDB(){if(confirm('–û—á–∏—Å—Ç–∏—Ç—å –±–∞–∑—É?')){DB=[];save();render();}}

load();
</script>
</body>
</html>

